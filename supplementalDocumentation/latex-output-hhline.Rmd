---
title: "LaTeX Output, Table Borders, and `hhline`"
author: "Benjamin Nutter"
date: "`r Sys.Date()`"
output: 
  pdf_document:
    toc: true
header-includes: 
- \usepackage{amssymb} 
- \usepackage{arydshln} 
- \usepackage{graphicx} 
- \usepackage{hhline} 
- \usepackage{longtable} 
- \usepackage{multirow} 
- \usepackage{placeins}
- \usepackage[dvipsnames,table]{xcolor} 
- \makeatletter 
- \newcommand*\vdashline{\rotatebox[origin=c]{90}{\$\dabar@\dabar@\dabar@\$}} 
- \makeatother
---

When rendering to \LaTeX output, `pixiedust` offers two styles of table borders.  Borders may be drawn using either the facilities of the `xcolor` and `arydshlin` packages, or using the `hhline` packages (Note: these are \LaTeX packages).  By default, `pixiedust` uses `xcolor` and `arydshln`.

## Comparison of Styles

| Feature                      | `xcolor` | `hhline` |
|------------------------------|:--------:|:--------:|   
| Dashed borders               | Yes      | No       | 
| Colored borders              | Yes      | No       | 
| Double borders               | No       | Yes      |
| Works with background colors | No       | Yes      |

Before getting started, please note that the YAML front matter for this documents is as follows:

```
---
title: "LaTeX Output, Table Borders, and `hhline`"
author: "Benjamin Nutter"
date: "`r Sys.Date()`"
output: pdf_document
header-includes: 
- \usepackage{amssymb} 
- \usepackage{arydshln} 
- \usepackage{graphicx} 
- \usepackage{hhline} 
- \usepackage{longtable} 
- \usepackage{multirow} 
- \usepackage[dvipsnames,table]{xcolor} 
- \makeatletter 
- \newcommand*\vdashline{\rotatebox[origin=c]{90}{\$\dabar@\dabar@\dabar@\$}} 
- \makeatother
---
```

For these illustrations, we will use our usual example linear model.  We will also apply `medley_model` to the table before applying any other customizations.

```{r}
library(pixiedust)
options(pixiedust_print_method = "latex")

fit <- lm(mpg ~ wt + qsec + factor(am),
          data = mtcars)
```

## A Common Shortcoming

In both styles, vertical borders can become thicker than expected when adjoining cells have the adjoining borders defined.  For example, if column 2 has a right border and column 3 has a left border, the adjoining borders appear as one thick border.

```{r}
dust(fit,
     caption = "Table borders using xcolor",
     hhline = FALSE) %>%
  medley_model() %>%
  sprinkle(border = "all")

dust(fit, 
     caption = "Table borders using hhline",
     hhline = TRUE) %>%
  medley_model() %>%
  sprinkle(border = "all")
```

This can be avoided by only assigning one vertical border.
\FloatBarrier
```{r}
dust(fit,
     caption = "Table borders using xcolor",
     hhline = FALSE) %>%
  medley_model() %>%
  #* Left border on all columns
  sprinkle(cols = 1:5, 
           border = c("left", "top", "bottom")) %>%
  #* Right border on last column
  sprinkle(cols = 5,
           border = "right")
```

`pixiedust` provides a medley (`medley_all_borders`) that performs this task for you.
\FloatBarrier

```{r}
dust(fit,
     caption = "Table borders using the all borders medley",
     hhline = FALSE) %>%
  medley_model() %>%
  medley_all_borders()
```


## Dashed Borders

## Colored Borders

## Double Borders

## Background Colors