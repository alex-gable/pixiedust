# Colors

```{r results="asis", echo=FALSE}
cat(get_your_sparkle_css)
```

Colors may be used for cell borders and backgrounds. `pixiedust` works hard to make it easy to use colors while also giving a great deal of flexibility.

## Named Colors

Designating a color can be a simple as providing a name, so long as you know the valid color names.  Fortunately, `pixiedust` recognizes all of the DVIPS color names recognized by R itself. The full list of colors can be seen by running `colors()` at the command line.  We show the first 30 colors here:

```{r}
head(colors(), 30)
```

A good resource for seeing what these colors looks like is http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf

`pixiedust` also recognizes an additional name, `"transparent"`, for when you wish to remove a color that may have already been applied.  

In the example below, we'll add a background color to the non-intercept rows in the model summary that are statistically significant.

```{r, results = 'asis'}
fit <- lm(mpg ~ qsec + factor(gear) + wt, data = mtcars)

dust(fit) %>%
  sprinkle(rows = c(2, 5),
           bg = "lightgreen")
```

## RGB Colors

The `colors()` named in R offer you `r length(colors())` unique colors. But colors may also be specified as an RGB character string of the format `"rgb(RRR, GGG, BBB)"` where `RRR`, `GGG`, and `BBB` are integers between 0 and 255.  With 256 values of each of those three spots, that provides you with a total of `r format(256^3, big.mark = ",")` distinct colors available for use.  

We can replicate the table from the previous example using the `"rgb()"` color specification as follows:

```{r, results = 'asis'}
fit <- lm(mpg ~ qsec + factor(gear) + wt, data = mtcars)

dust(fit) %>%
  sprinkle(rows = c(2, 5),
           bg = "rgb(144, 238, 144)") 
```


## HEX Colors

Hexadecimal color codes are another common way to define colors, especially in HTML formats.  `RColorBrewer` is a package that returns color codes in hexadecimal format.

To specify a hexidecimal color in `pixiedust`, use a character string in `"#RRGGBB"` format where `RR`, `GG`, and `BB` are hexidecimal values between `00` and `FF`.  Our previous example is replicated again using hex codes as

```{r, results = 'asis'}
fit <- lm(mpg ~ qsec + factor(gear) + wt, data = mtcars)

dust(fit) %>%
  sprinkle(rows = c(2, 5),
           bg = "#90EE90")
```

## Transparency

`pixiedust` supports color transparency for HTML tables only.  To use transparency, define your colors as `"rgba(RRR, GGG, BBB, AA)`" where `AA` is a value between 0 (fully transparent) and 1 (fully opaque).  Hexidecimal colors are specified by `"#RRGGBBAA"` where `AA` is a hexidecimal number from 00 (fully transparent) and FF (fully opaque).

We will do a variation of the previous example where we shade the statistically significant rows in black, and use transparency to ensure the text is still visible (it's a silly thing to do, since we could just use gray, but it's a good way to illustrate the point)

```{r, results = 'asis'}
fit <- lm(mpg ~ qsec + factor(gear) + wt, data = mtcars)

dust(fit) %>%
  sprinkle(rows = 2,
           bg = "#0000003F") %>%
  sprinkle(rows = 4,
           bg = "rgba(00,00,00,.25)") 
```